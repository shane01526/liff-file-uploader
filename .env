# LINE Channel 設定
LINE_CHANNEL_ACCESS_TOKEN=DKL5KlyPT9ejpA4mnSX50SB/x6piP83ztwecBWPKp+dtmSGtYd74nFmJuzXzIShAuvugbrTO1BZHCV/IK5IAJSf8QRYTj31TrtDHlIgYgy8nDqeeLeCUgW9EqvEcJK2tzzkZ4G9f99JEkMv22fVqAQdB04t89/1O/w1cDnyilFU=
LINE_CHANNEL_SECRET=350c65887d4f751dbe566283f7a441de
LINE_LIFF_ID=2007898038-DLkNoLpM

# 伺服器設定
PORT=10000
NODE_ENV=production

# 檔案設定
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# 前端 URL (Render 會自動設定 RENDER_EXTERNAL_URL)
FRONTEND_URL=https://liff-file-uploader.onrender.com

# ============= N8N Webhook 設定 (增強版) =============
# N8N Webhook URL - 增強版訊息將發送到這個 URL
# 包含完整使用者資訊和所有下載連結
N8N_WEBHOOK_URL=https://323b04260f82.ngrok-free.app/webhook-test/1234

# 選用：是否同時發送真實的 LINE 通知 (true/false)
# SEND_LINE_NOTIFICATION=false

# 選用：LINE Bot User ID (用於目標識別)
# LINE_BOT_USER_ID=2007733048

# ============= 使用者資訊設定 =============
# 是否強制要求使用者姓名 (true/false)
REQUIRE_USER_NAME=true

# 是否強制要求電子信箱 (true/false) 
REQUIRE_USER_EMAIL=false

# 是否強制要求聯絡電話 (true/false)
REQUIRE_USER_PHONE=false

# 使用者姓名最小長度
USER_NAME_MIN_LENGTH=2

# ============= 文件轉換設定 =============
# PDF 轉圖片解析度 (DPI)
PDF_CONVERT_DENSITY=200

# 圖片輸出寬度
IMAGE_OUTPUT_WIDTH=1200

# 圖片輸出高度
IMAGE_OUTPUT_HEIGHT=1600

# 圖片輸出格式 (png/jpg)
IMAGE_OUTPUT_FORMAT=png

# LibreOffice 轉換超時時間（秒）
LIBREOFFICE_TIMEOUT=30

# 是否保留原始上傳檔案 (true/false)
KEEP_ORIGINAL_FILES=true

# ============= 增強版 N8N 訊息設定 =============
# 是否在訊息中包含使用者聯絡資訊 (true/false)
INCLUDE_CONTACT_INFO_IN_MESSAGE=true

# 是否在訊息中包含個別圖片下載連結 (true/false)
INCLUDE_INDIVIDUAL_IMAGE_LINKS=true

# N8N 請求超時時間（毫秒）
N8N_REQUEST_TIMEOUT=15000

# 是否記錄完整的 N8N 回應內容 (true/false)
LOG_N8N_RESPONSE=true

# ============= 下載連結設定 =============
# 下載連結有效期限（小時），0 表示永久有效
DOWNLOAD_LINK_EXPIRY_HOURS=0

# 是否啟用下載次數限制 (true/false)
ENABLE_DOWNLOAD_COUNT_LIMIT=false

# 每個檔案最大下載次數（如果啟用限制）
MAX_DOWNLOAD_COUNT=10

# ============= 系統功能開關 =============
# 是否啟用 PDF 轉圖片功能 (true/false)
ENABLE_PDF_TO_IMAGE=true

# 是否啟用 DOC/DOCX 轉 PDF 功能 (true/false) 
ENABLE_DOC_TO_PDF=true

# 是否啟用 ZIP 批量下載功能 (true/false)
ENABLE_ZIP_DOWNLOAD=true

# 是否啟用調試 API (true/false)
ENABLE_DEBUG_API=true

# ============= 日誌設定 =============
# 日誌級別 (debug/info/warn/error)
LOG_LEVEL=info

# 是否記錄使用者資訊到日誌 (true/false) - 注意隱私
LOG_USER_INFO=true

# 是否記錄檔案處理詳情 (true/false)
LOG_FILE_PROCESSING=true

# ============= 錯誤處理設定 =============
# 轉換失敗時的重試次數
CONVERSION_RETRY_COUNT=2

# 轉換失敗時的重試間隔（毫秒）
CONVERSION_RETRY_DELAY=1000

# N8N 請求失敗時的重試次數
N8N_RETRY_COUNT=1

# ============= 效能優化設定 =============
# 同時處理的最大檔案數
MAX_CONCURRENT_CONVERSIONS=3

# 檔案清理任務間隔（小時）
CLEANUP_INTERVAL_HOURS=24

# 保留處理完成檔案的天數
KEEP_PROCESSED_FILES_DAYS=7
